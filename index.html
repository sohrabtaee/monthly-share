<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Partners Monthly Share</title>
    <style>
      html {
        box-sizing: border-box;
      }
      *,
      *:before,
      *:after {
        box-sizing: inherit;
      }
      .container {
        max-width: 500px;
        padding: 15px;
        margin: 0 auto;
      }
      input {
        padding: 5px 15px;
        display: block;
        margin-bottom: 15px;
        width: 100%;
      }
      button {
        padding: 5px 15px;
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Calculate partners monthly share based on their income</h1>
      <form class="monthly-share-form" id="monthly-share-form">
        <label for="monthly-expenses">Monthly Expenses</label>
        <input
          type="number"
          id="monthly-expenses"
          min="100"
          required
          autofocus
        />
        <label for="p1-income">Partner 1 Income</label>
        <input type="number" id="p1-income" min="100" required />
        <label for="p2-income">Partner 2 Income</label>
        <input type="number" id="p2-income" min="100" required />
        <button type="submit">Calculate Monthly Share</button>
        <p id="monthly-share"></p>
      </form>
    </div>
    <script>
      ;(function () {
        const monthlyExpensesInput = document.getElementById('monthly-expenses')
        const p1IncomeInput = document.getElementById('p1-income')
        const p2IncomeInput = document.getElementById('p2-income')
        const monthlyShareInput = document.getElementById('monthly-share')
        const calculateButton = document.getElementById('monthly-share-form')
        calculateButton.addEventListener('submit', (e) => {
          e.preventDefault()
          const monthlyExpenses = Number(monthlyExpensesInput.value)
          const p1Income = Number(p1IncomeInput.value)
          const p2Income = Number(p2IncomeInput.value)
          const monthlyIncome = p1Income + p2Income
          const p1Share =
            Math.round((p1Income * monthlyExpenses) / monthlyIncome / 50) * 50
          const p1SharePercentage = Math.round(
            (p1Share * 100) / monthlyExpenses
          )
          const p2Share =
            Math.round((p2Income * monthlyExpenses) / monthlyIncome / 50) * 50
          const p2SharePercentage = Math.round(
            (p2Share * 100) / monthlyExpenses
          )

          const monthlyShare = `Partner 1's share is ${p1Share} (${p1SharePercentage}%) \n Partner 2's share is ${p2Share} (${p2SharePercentage}%)`
          monthlyShareInput.innerText = monthlyShare
        })
      })()
    </script>
  </body>
</html>
