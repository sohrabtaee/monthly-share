<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Monthly Share</title>
    <style>
      .monthly-share-form {
        max-width: 500px;
        padding: 15px;
        margin: 0 auto;
      }
      input {
        padding: 5px 15px;
        display: block;
        margin-bottom: 15px;
        width: 100%;
      }
      button {
        padding: 5px 15px;
        display: block;
      }
    </style>
  </head>
  <body>
    <form class="monthly-share-form" id="monthly-share-form">
      <label for="monthly-expenses">Monthly Expenses</label>
      <input type="number" id="monthly-expenses" min="1" required autofocus />
      <label for="sohrab-income">Sohrab's Income</label>
      <input type="number" id="sohrab-income" min="1" required />
      <label for="setareh-income">Setareh's Income</label>
      <input type="number" id="setareh-income" min="1" required />
      <button type="submit">Calculate Monthly Share</button>
      <p id="monthly-share"></p>
    </form>
    <script>
      ;(function () {
        const monthlyExpensesInput = document.getElementById('monthly-expenses')
        const sohrabIncomeInput = document.getElementById('sohrab-income')
        const setarehIncomeInput = document.getElementById('setareh-income')
        const monthlyShareInput = document.getElementById('monthly-share')
        const calculateButton = document.getElementById('monthly-share-form')
        calculateButton.addEventListener('submit', (e) => {
          e.preventDefault()
          const monthlyExpenses = Number(monthlyExpensesInput.value)
          const sohrabIncome = Number(sohrabIncomeInput.value)
          const setarehIncome = Number(setarehIncomeInput.value)
          const monthlyIncome = sohrabIncome + setarehIncome
          const sohrabShare =
            Math.round((sohrabIncome * monthlyExpenses) / monthlyIncome / 50) *
            50
          const sohrabSharePercentage = Math.round(
            (sohrabShare * 100) / monthlyExpenses
          )
          const setarehShare =
            Math.round((setarehIncome * monthlyExpenses) / monthlyIncome / 50) *
            50
          const setarehSharePercentage = Math.round(
            (setarehShare * 100) / monthlyExpenses
          )

          const monthlyShare = `Sohrab's share is ${sohrabShare} (${sohrabSharePercentage}%) \n Setareh's share is ${setarehShare} (${setarehSharePercentage}%)`
          monthlyShareInput.innerText = monthlyShare
        })
      })()
    </script>
  </body>
</html>
